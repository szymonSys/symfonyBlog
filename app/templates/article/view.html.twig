{% extends 'base.html.twig' %}

{% block title %}
    {{ article.title }}
{% endblock %}

{% block body %}
    {% if article is defined and article|length %}
        <h1>{{  article.title }}</h1>
        {% if  article.author.firstName == app.user.firstName or is_granted('ROLE_ADMIN')%}
            <a href="{{ url('article_edit', {id: article.id}) }}" title="edit">
                {{ 'action.edit'|trans }}
            </a><br>
            <a href="{{ url('article_delete', {id: article.id}) }}" title="delete">
                {{ 'action.delete'|trans }}
            </a>
        {% endif %}
        <dl class="dl-horizontal">
            <dt>{{ 'label.author'|trans }}</dt>
            <dd><a href="{{ url('author_view', {id: article.author.id, firstName: article.author.firstName}) }}">{{ article.author.firstName }}</a></dd>
            <dt>{{ 'label.published_date'|trans }}</dt>
            <dd>{{ article.publishedAt|localizeddate }}</dd>
            <dt>{{ 'label.content'|trans }}</dt>
            <dd>{{  article.body }}</dd>
            <dt>{{ 'label.category'|trans }}</dt>
            <dd><a href="{{ url('category_view', {name: article.category.name}) }}">{{ article.category.name }}</a></dd>
            <dt>{{ 'label.tags'|trans }}</dt>
            <dd>
            {% for tag in article.tags %}
            {{ tag.name }}
                {% if loop.index != article.tags|length %}
                {{ ',' }}
                {% endif %}
            {% endfor %}
            </dd>
            <dt>{{ 'label.id'|trans }}</dt>
            <dd>{{ article.id }}</dd>
        </dl>
    {% else %}
        <p>
            {{ 'message.empty_list'|trans }}
        </p>
    {% endif %}
{% endblock %}